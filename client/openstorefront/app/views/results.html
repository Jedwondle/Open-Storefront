<!-- Results Containter -->
<div class='container-fluid resultsContainer'>


  <!-- Filters Div -->
  <div id="filters" class="filters">
    <div class="filterTableDiv firstFilter">
      <table class="table filterTable">
        <tr>
          <th class="filtersTd" ng-click="toggleTypeChecks()">Type</th>
        </tr>
        <tr class="filtersTr" data-ng-repeat="type in dataTypes">
          <td class="filtersTd">
            <div class="checkbox filterCheckbox">
              <input type="checkbox" ng-checked="type.checked" ng-model="type.checked" id="{{type.type}}" />
              <label for="{{type.type}}">{{type.type}}</label>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <div class="filterTableDiv">
      <table class="table filterTable">
        <tr>
          <th class="filtersTd" ng-click="toggleCategoryChecks()">Category</th>
        </tr>
        <tr class="filtersTr" data-ng-repeat="type in categoryTypes">
          <td class="filtersTd">
            <div class="checkbox filterCheckbox">
              <input type="checkbox" ng-checked="type.checked" ng-model="type.checked" id="{{type.type}}" />
              <label for="{{type.type}}">{{type.type}}</label>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <div class="filterTableDiv lastFilter">
      <table class="table filterTable">
        <tr>
          <th class="filtersTd" ng-click="toggleStateChecks()">State</th>
        </tr>
        <tr class="filtersTr" data-ng-repeat="type in stateTypes">
          <td class="filtersTd">
            <div class="checkbox filterCheckbox">
              <input type="checkbox" ng-checked="type.checked" ng-model="type.checked" id="{{type.type}}">
              <label for="{{type.type}}">{{type.type}}</label>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <div class="filterTableDiv">
      <label for="searchFilter">Sort By: </label>
      <select ng-model="orderProp" class="form-control">
        <option class="hidden-lg" selected disabled value="" hidden>Sort By</option>
        <option value="name">Name</option>
        <option value="age">Last Update</option>
      </select>
      <br>
      <label for="searchFilter">Filter By Text: </label>
      <input type="text" id="searchFilter" class="form-control typeahead" placeholder="Search" ng-model="query" />
    </div>
  </div>

  <!-- Page 1 -->
  <div class='page1' ng-class="{openResults: isPage1==false}" ng-click="isPage1 = !isPage1">
    <div class="showPage" id="filtersButton" onclick="openFiltersToggle()">
      <button  class=" btn btn-primary filtersButton">
        Filters <i class="fa fa-caret-left"></i> 
      </button>
    </div>
    <div class="showPage" ng-show="weHaveData">
      <button id="showPageRight" class="showPageRight btn btn-primary" ng-click="doButtonOpen()">
        <i class="fa fa-caret-left"></i> 
      </button>
    </div>

    <div class='container-fluid results'>
      <table class="table table-striped" id="resultsTable">
        <tr ng-repeat="item in data"  style="margin-bottom: 20px;">
          <td style="white-space: inherit;">
            <div class="container-fluid">
              <div class="row" style="margin-left: 0px; margin-right: 0px">
                <div class="results-content">
                  <div class="results-content-title">
                    <div ng-click="updateDetails(item.id)" id="{{item.id}}">
                      {{item.name}}
                    </div>
                    <raty ng-class='{lastPopover:$last}' class="pull-left" id="star{{$index}}" style="min-width:110px; height: 100%; margin: -6px 10px -4px 0px;" score="{{item.stats.averageRating}}" number="5" path="images/raty" data-container="body" data-toggle="popover" data-content="Average rating: {{item.stats.averageRating}} of {{item.stats.numberRatings}}<br>Comments: {{item.stats.comments}}<br>Views: {{item.stats.views}}"></raty>
                  </div>
                  <div class="results-content-description">
                    {{item.shortdescription}}
                  </div>
                </div>
              </div>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>
  <!-- End Page 1 -->

  <!-- Page 2 -->
  <div class='page2' ng-class="{openDetails: isPage1==false}" ng-click="isPage1 = false">
    <div class="showPage">
      <button id="showPageLeft" class="showPageLeft btn btn-primary" ng-click="doButtonClose()">
        <i class="fa fa-caret-right"></i> 
      </button>
    </div>
    PAGE 2
  </div>
  <!-- End Page 2 -->


  <!-- <p ng-show="showSearch">The search key is: {{searchKey}}, of type '{{searchType}}'</p>
  <p ng-show="!showSearch">There is no search key</p> -->
</div>
<!-- End Results Containter -->

<link rel="stylesheet" href="styles/results.css">
<script type="text/javascript" src="scripts/page_specific/results.js"></script>